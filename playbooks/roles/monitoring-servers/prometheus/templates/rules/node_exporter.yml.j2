groups:
  - name: disk_space_used
    rules:
    - alert: DiskSpaceUsedOver80Percent
      expr: 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes{device!~'rootfs'}) >= 80
      for: 5m
      labels:
        severity: notice
      annotations:
        summary: "DiskSpaceUsedOver80Percent"
        description: "The disk space used 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes    {device!~'rootfs'}) percent"
        value: 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes    {device!~'rootfs'})
    - alert: DiskSpaceUsedOver95Percent
      expr: 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes{device!~'rootfs'}) >= 90
      for: 5m
      labels:
        severity: warning
      annotations:
        summary: "DiskSpaceUsedOver95Percent"
        description: "The disk space used 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes    {device!~'rootfs'}) percent"
        value: 100 - ((node_filesystem_avail_bytes{device!~'rootfs'} * 100) / node_filesystem_size_bytes    {device!~'rootfs'})
